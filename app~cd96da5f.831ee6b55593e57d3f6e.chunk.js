(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"not-authenticated/create-account":function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"CreateAccount",(function(){return d}));var o=n("aurelia-framework"),i=n("aurelia-validation"),r=n("CnLv"),a=n("not-authenticated/not-authenticated"),l=function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},s=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(e,n,o,i){return new(o||(o=t))((function(t,r){function a(t){try{s(i.next(t))}catch(t){r(t)}}function l(t){try{s(i.throw(t))}catch(t){r(t)}}function s(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(t){t(n)}))).then(a,l)}s((i=i.apply(e,n||[])).next())}))},u=function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}},d=function(){function t(t,e,n,o,r,a){var l=this;this.naRoot=t,this.aurelia=e,this.validationFactory=n,this.meApi=o,this.tokensApi=r,this.auth=a,this.confirmedPassword="",this.model={EmailAddress:"",Name:"",Password:"",PlanKey:"TAPROOT::BETA"},i.ValidationRules.ensure((function(t){return t.confirmedPassword})).satisfies((function(t){return t==l.model.Password})).withMessage("The passwords you entered do not match.").on(this),i.ValidationRules.ensure((function(t){return t.Name})).required().ensure((function(t){return t.EmailAddress})).required().email().ensure((function(t){return t.Password})).required().on(this.model),this.validationController=this.validationFactory.createForCurrentScope()}return t.prototype.attached=function(){this.nameInput.focus()},t.prototype.doCreateAccount=function(){return c(this,void 0,void 0,(function(){var t,e;return u(this,(function(n){switch(n.label){case 0:return[4,this.validationController.validate()];case 1:return n.sent().valid?[4,this.meApi.signUp({model:this.model})]:[2];case 2:return n.sent(),t={Email:this.model.EmailAddress,Password:this.model.Password},[4,this.tokensApi.signIn({model:t})];case 3:return e=n.sent(),this.auth.setTaprootToken(e),this.naRoot.router.navigate("/",{replace:!0,trigger:!1}),this.naRoot.router.reset(),this.aurelia.setRoot("app"),[2]}}))}))},t=l([Object(o.g)(),s("design:paramtypes",[a.NotAuthenticated,o.Aurelia,i.ValidationControllerFactory,r.c,r.h,r.b])],t)}()}.call(this,n("B/eG").default)},"not-authenticated/create-account.html":function(t,e){t.exports='<template>\n  <div class="na-focused-form all-centered">\n    <form style="max-width: 500px;" submit.trigger="doCreateAccount()" autocomplete="off">\n      <h1 class="na-taproot-logo taproot-gold">\n        <i class="icon-taproot-logo"></i>\n      </h1>\n\n      <esp-input view-model.ref="nameInput" controlid="name" label="Your Name" value.bind="model.Name & validate"></esp-input>\n      <esp-input controlid="email" label="Email" value.bind="model.EmailAddress & validate"></esp-input>\n      <esp-input controlid="password" type="password" label="Password" value.bind="model.Password & validate"></esp-input>\n      <esp-input controlid="confirm-password" type="password" label="Confirm Password" value.bind="confirmedPassword & validate"></esp-input>\n\n      <footer class="buttons">\n        <button class="primary">\n          <span>Create Account</span>\n        </button>\n      </footer>\n    </form>\n\n    <h4>\n      Have an account?\n      <a href.one-time="naRoot.router.generate(\'SignIn\')" id="go-to-sign-in">Sign in!</a>\n    </h4>\n  </div>\n</template>\n'},"not-authenticated/not-authenticated":function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"NotAuthenticated",(function(){return c}));n("dasq"),n("9d8Q"),n("Ut/D");var o=n("aurelia-framework"),i=n("3ljv"),r=function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(e,n,o,i){return new(o||(o=t))((function(t,r){function a(t){try{s(i.next(t))}catch(t){r(t)}}function l(t){try{s(i.throw(t))}catch(t){r(t)}}function s(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(t){t(n)}))).then(a,l)}s((i=i.apply(e,n||[])).next())}))},s=function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}},c=function(){function t(t){this.outstandingRequestsCount=0,t.doConfig()}return t.prototype.configureRouter=function(t,e){return l(this,void 0,void 0,(function(){var n;return s(this,(function(o){return t.title="Taproot",n=[{route:[""],name:"SignIn",moduleId:"./sign-in",nav:!1,title:"Sign In"},{route:["create-account"],name:"CreateAccount",moduleId:"./create-account",nav:!1,title:"Create Account"}],t.map(n),t.fallbackRoute(""),t.mapUnknownRoutes("./sign-in"),this.router=e,[2]}))}))},t=r([Object(o.g)(),a("design:paramtypes",[i.a])],t)}()}.call(this,n("B/eG").default)},"not-authenticated/not-authenticated.html":function(t,e,n){t.exports='<template>\n  <require from="./not-authenticated.scss"></require>\n  <router-view></router-view>\n</template>\n'},"not-authenticated/not-authenticated.scss":function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"form{width:100%}form h3{margin:.5em 0}form .espalier-control{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;padding-bottom:.5rem}form .espalier-control label{font-weight:700}form .espalier-control input{outline:none;box-sizing:border-box;padding:1em;width:100%;border:solid #066;border-width:2px 2px 0;border-top-left-radius:3px;border-top-right-radius:3px}form .espalier-control input:last-child{border-bottom-left-radius:3px;border-bottom-right-radius:3px;border-bottom-width:2px}form .espalier-control input:focus{border-color:#0078ef;box-shadow:0 0 4px #036}form .espalier-control input:focus+span.error{box-shadow:0 0 4px #036}form .espalier-control input+span.error{border-top:1px dashed #7a0013}form .espalier-control span.error{box-sizing:border-box;font-size:.75em;padding:.5em 1em;display:block;width:100%;color:#3f000a;background:#ffc8d1;border-left:2px solid #7a0013;border-right:2px solid #7a0013}form .espalier-control span.error:last-child{border-bottom-left-radius:.15em;border-bottom-right-radius:.15em;border-bottom:2px solid #7a0013}form footer.buttons{-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row}button,form footer.buttons{display:-webkit-box;display:flex}button{padding:0;font-size:.8rem;border-radius:3px;background:#fff;border:none}button>span{border-radius:3px;display:-webkit-inline-box;display:inline-flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;-webkit-box-flex:1;flex:auto;padding:.75rem;opacity:.8;-webkit-transition:opacity .5s cubic-bezier(.175,.885,.32,1.275);transition:opacity .5s cubic-bezier(.175,.885,.32,1.275)}button.primary>span{border:2px solid #001a33;background:#036;color:#eff7ff}button.btn-pos>span{border:2px solid #001802;background:#00660a;color:#dcffdf}button::-moz-focus-inner{border:0}button:focus,button:hover{outline:none;cursor:pointer}button:focus>span,button:hover>span{opacity:1}button:focus>span{border-color:#0078ef;box-shadow:0 0 4px #036}@media (min-width:43.75em){button{font-size:1.1em}}@media (min-width:56.25em){button{font-size:1.25em}}body{font-size:100%}body,caption,fieldset,h1,h2,h3,h4,h5,h6,input,legend,option,select,td,textarea,th{font-family:Poppins,sans-serif}button>span{font-family:IBM Plex Sans Condensed,sans-serif}h1,h2,h3,h4,h5,h6{font-family:Bitter,serif;color:#0059b3}#page{font-size:1em;line-height:1.25}@media (min-width:43.75em){#page{font-size:1em;line-height:1.375}}h1{font-size:2em;line-height:1.25}@media (min-width:43.75em){h1{font-size:2.5em;line-height:1.125}}@media (min-width:56.25em){h1{font-size:3em;line-height:1.05}}h2{font-size:1.625em;line-height:1.15384615}@media (min-width:43.75em){h2{font-size:2em;line-height:1.25}}@media (min-width:56.25em){h2{font-size:2.25em;line-height:1.25}}h3{font-size:1.375em;line-height:1.13636364}@media (min-width:43.75em){h3{font-size:1.5em;line-height:1.25}}@media (min-width:56.25em){h3{font-size:1.75em;line-height:1.25}}h4{font-size:1.125em;line-height:1.11111111}@media (min-width:43.75em){h4{line-height:1.22222222}}blockquote{font-size:1.25em;line-height:1.25}@media (min-width:43.75em){blockquote{font-size:1.5em;line-height:1.45833333}}body,html{height:100%;overflow:visible}body{color:#001a33;background:url(/diamonds.png) #eff7ff}a{color:#a75300;-webkit-transition:color .3s cubic-bezier(.175,.885,.32,1.275);transition:color .3s cubic-bezier(.175,.885,.32,1.275)}a:hover{color:#f47a00;text-decoration:none}.taproot-gold{color:#ffdf33}.all-centered{-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center}.na-focused-form{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}h1.na-taproot-logo{font-size:8em;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;margin:20px}",""])},"not-authenticated/sign-in":function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"SignIn",(function(){return d}));var o=n("aurelia-framework"),i=n("aurelia-validation"),r=n("CnLv"),a=n("not-authenticated/not-authenticated"),l=function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},s=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(e,n,o,i){return new(o||(o=t))((function(t,r){function a(t){try{s(i.next(t))}catch(t){r(t)}}function l(t){try{s(i.throw(t))}catch(t){r(t)}}function s(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(t){t(n)}))).then(a,l)}s((i=i.apply(e,n||[])).next())}))},u=function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}},d=function(){function t(t,n,o,r,a){this.tokensApi=t,this.auth=n,this.naRoot=o,this.aurelia=r,this.validationFactory=a,this.email="",i.ValidationRules.ensure((function(t){return t.email})).required().email().ensure((function(t){return t.password})).required().on(e),this.validationController=this.validationFactory.createForCurrentScope()}var e;return e=t,t.prototype.attached=function(){this.emailInput.focus()},t.prototype.DoSignIn=function(){return c(this,void 0,void 0,(function(){var t,e;return u(this,(function(n){switch(n.label){case 0:return[4,this.validationController.validate()];case 1:return n.sent().valid?(t={Email:this.email,Password:this.password},[4,this.tokensApi.signIn({model:t})]):[2];case 2:return e=n.sent(),this.auth.setTaprootToken(e),this.naRoot.router.navigate(window.location.hash?window.location.hash:"/",{replace:!0,trigger:!1}),this.naRoot.router.reset(),this.aurelia.setRoot("app"),[2]}}))}))},t=e=l([Object(o.g)(),s("design:paramtypes",[r.h,r.b,a.NotAuthenticated,o.Aurelia,i.ValidationControllerFactory])],t)}()}.call(this,n("B/eG").default)},"not-authenticated/sign-in.html":function(t,e){t.exports='<template>\n  <div class="na-focused-form all-centered">\n    <h1 class="na-taproot-logo taproot-gold">\n      <i class="icon-taproot-logo"></i>\n    </h1>\n\n    <form style="max-width: 500px;" submit.trigger="DoSignIn()" autocomplete="off">\n\n      <esp-input view-model.ref="emailInput" controlid="email" label="Email" value.bind="email & validate"></esp-input>\n      <esp-input controlid="password" type="password" label="Password" value.bind="password & validate"></esp-input>\n\n      <footer class="buttons">\n        <button class="primary">\n          <span>Sign In</span>\n        </button>\n      </footer>\n    </form>\n\n    <h4>\n      Don\'t have an account?\n      <a href.one-time="naRoot.router.generate(\'CreateAccount\')" id="create-account">Create one!</a>\n    </h4>\n  </div>\n</template>\n'},"not-found":function(t,e,n){"use strict";n.r(e),n.d(e,"NotFound",(function(){return o}));var o=function(){}},"not-found.html":function(t,e){t.exports="<template>\n  <h2>It looks like we were not able to find what you were looking for!</h2>\n</template>\n"}}]);
//# sourceMappingURL=app~cd96da5f.831ee6b55593e57d3f6e.bundle.map