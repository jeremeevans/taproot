(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"resources/index":function(e,t,n){"use strict";function r(e){}n.r(t),n.d(t,"configure",(function(){return r}))},"services/new-service":function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"NewService",(function(){return f}));var r=n("aurelia-framework"),i=n("CnLv"),o=n("aurelia-validation"),a=n("app"),c=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},l=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(t,n,r,i){return new(r||(r=e))((function(e,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function c(e){try{l(i.throw(e))}catch(e){o(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(a,c)}l((i=i.apply(t,n||[])).next())}))},u=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},f=function(){function e(e,t,n){this.serviceApi=e,this.validationFactory=t,this.app=n,this.model={Key:"",Name:""},o.ValidationRules.ensure((function(e){return e.Key})).required().ensure((function(e){return e.Name})).required().on(this.model),this.validationController=this.validationFactory.createForCurrentScope()}return e.prototype.attached=function(){this.keyInput.focus()},e.prototype.createService=function(){return s(this,void 0,void 0,(function(){var e;return u(this,(function(t){switch(t.label){case 0:return[4,this.validationController.validate()];case 1:return t.sent().valid?[4,this.serviceApi.create({model:this.model})]:[2];case 2:return e=t.sent(),this.app.router.navigateToRoute("Service",{key:e.Key}),[2]}}))}))},e=c([Object(r.g)(),l("design:paramtypes",[i.g,o.ValidationControllerFactory,a.App])],e)}()}.call(this,n("B/eG").default)},"services/new-service.html":function(e,t){e.exports='<template>\n  <form style="max-width: 500px;" submit.trigger="createService()" autocomplete="off">\n    <esp-input view-model.ref="keyInput" controlid="Key" label="Key" value.bind="model.Key & validate"></esp-input>\n    <esp-input controlid="Name" label="Service Name" value.bind="model.Name & validate"></esp-input>\n\n    <footer class="buttons">\n      <button class="primary">\n        <span>Create Service</span>\n      </button>\n    </footer>\n  </form>\n</template>\n'},"services/plans/new-plan":function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"NewPlan",(function(){return f}));var r=n("CnLv"),i=n("services/service-index"),o=n("aurelia-validation"),a=n("aurelia-framework"),c=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},l=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(t,n,r,i){return new(r||(r=e))((function(e,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function c(e){try{l(i.throw(e))}catch(e){o(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(a,c)}l((i=i.apply(t,n||[])).next())}))},u=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},f=function(){function e(e,t,n){this.serviceIndex=e,this.plansApi=t,this.validationFactory=n,this.model={AllowSignUps:!1,AnnualPrice:void 0,AvailableRoles:[],DefaultRoles:[],MaximumNumberOfUsers:void 0,MonthlyPrice:void 0,NumberOfDaysFree:void 0,Name:""},o.ValidationRules.ensure((function(e){return e.Name})).required().on(this.model),this.validationController=this.validationFactory.createForCurrentScope()}return e.prototype.attached=function(){},e.prototype.createRight=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,this.validationController.validate()];case 1:return e.sent().valid?(this.serviceIndex.router.navigateToRoute("ServiceRoles"),[2]):[2]}}))}))},e=c([Object(a.g)(),l("design:paramtypes",[i.Service,r.d,o.ValidationControllerFactory])],e)}()}.call(this,n("B/eG").default)},"services/plans/new-plan.html":function(e,t){e.exports="<template>\n  <h2>Implement create new plan...</h2>\n</template>\n"},"services/plans/plans":function(e,t,n){"use strict";n.r(t),n.d(t,"Plans",(function(){return s}));var r=n("espalier-js"),i=n("aurelia-framework"),o=n("services/service-index"),a=n("BEPO"),c=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},l=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(e,t){this.dsFactory=t,this.serviceIndex=e}return e.prototype.attached=function(){this.plansGrid.settings={columns:[{propertyName:"Id"},{propertyName:"Name"},{propertyName:"MonthlyPrice",title:"Monthly Price",dataFormatter:new r.CurrencyFormatter},{propertyName:"AnnualPrice",title:"Annual Price",dataFormatter:new r.CurrencyFormatter}],dataSource:this.dsFactory.HttpSource(a.b+"/Plans?ServiceKey="+this.serviceIndex.serviceKey)}},e=c([Object(i.g)(),l("design:paramtypes",[o.Service,r.DataSourceFactory])],e)}()},"services/plans/plans.html":function(e,t){e.exports='<template>\n  <esp-grid view-model.ref="plansGrid"></esp-grid>\n</template>\n'},"services/rights/new-right":function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"NewRight",(function(){return f}));var r=n("CnLv"),i=n("services/service-index"),o=n("aurelia-validation"),a=n("aurelia-framework"),c=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},l=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(t,n,r,i){return new(r||(r=e))((function(e,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function c(e){try{l(i.throw(e))}catch(e){o(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(a,c)}l((i=i.apply(t,n||[])).next())}))},u=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},f=function(){function e(e,t,n){this.serviceIndex=e,this.rightsApi=t,this.validationFactory=n,this.model={Description:"",Name:"",RightKey:"",ServiceKey:""},o.ValidationRules.ensure((function(e){return e.RightKey})).required().ensure((function(e){return e.Name})).required().on(this.model),this.validationController=this.validationFactory.createForCurrentScope()}return e.prototype.attached=function(){this.model.ServiceKey=this.serviceIndex.serviceKey,this.keyInput.focus()},e.prototype.createRight=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,this.validationController.validate()];case 1:return e.sent().valid?[4,this.rightsApi.create({model:this.model})]:[2];case 2:return e.sent(),this.serviceIndex.router.navigateToRoute("ServiceRights"),[2]}}))}))},e=c([Object(a.g)(),l("design:paramtypes",[i.Service,r.e,o.ValidationControllerFactory])],e)}()}.call(this,n("B/eG").default)},"services/rights/new-right.html":function(e,t){e.exports='<template>\n  <form style="max-width: 500px;" submit.trigger="createRight()" autocomplete="off">\n    <esp-input view-model.ref="keyInput" controlid="key" label="Key" value.bind="model.RightKey & validate"></esp-input>\n    <esp-input controlid="name" label="Name" value.bind="model.Name & validate"></esp-input>\n    <esp-input controlid="name" label="Description" value.bind="model.Description"></esp-input>\n\n    <footer class="buttons">\n      <button class="primary">\n        <span>Create Right</span>\n      </button>\n    </footer>\n  </form>\n</template>\n'},"services/rights/rights":function(e,t,n){"use strict";n.r(t),n.d(t,"Rights",(function(){return s}));var r=n("espalier-js"),i=n("aurelia-framework"),o=n("services/service-index"),a=n("BEPO"),c=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},l=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(e,t){this.dsFactory=t,this.serviceIndex=e}return e.prototype.attached=function(){this.rightsGrid.settings={columns:[{propertyName:"Id"},{propertyName:"Name"},{propertyName:"Description"}],dataSource:this.dsFactory.HttpSource(a.b+"/Rights?ServiceKey="+this.serviceIndex.serviceKey)}},e=c([Object(i.g)(),l("design:paramtypes",[o.Service,r.DataSourceFactory])],e)}()},"services/rights/rights.html":function(e,t){e.exports='<template>\n  <esp-grid view-model.ref="rightsGrid"></esp-grid>\n</template>\n'},"services/roles/new-role":function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"NewRole",(function(){return f}));var r=n("CnLv"),i=n("services/service-index"),o=n("aurelia-validation"),a=n("aurelia-framework"),c=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},l=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(t,n,r,i){return new(r||(r=e))((function(e,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function c(e){try{l(i.throw(e))}catch(e){o(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(a,c)}l((i=i.apply(t,n||[])).next())}))},u=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},f=function(){function e(e,t,n,r){this.serviceIndex=e,this.rolesApi=t,this.validationFactory=n,this.rightsApi=r,this.model={Description:"",Name:"",ServiceKey:"",RoleKey:"",Rights:[]},o.ValidationRules.ensure((function(e){return e.RoleKey})).required().ensure((function(e){return e.Name})).required().on(this.model),this.validationController=this.validationFactory.createForCurrentScope()}return e.prototype.attached=function(){return s(this,void 0,void 0,(function(){var e;return u(this,(function(t){switch(t.label){case 0:return e=this,[4,this.rightsApi.filter({ServiceKey:this.serviceIndex.serviceKey,ReturnAll:!0})];case 1:return e.allRights=t.sent().Results,this.model.ServiceKey=this.serviceIndex.serviceKey,this.keyInput.focus(),[2]}}))}))},e.prototype.createRight=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,this.validationController.validate()];case 1:return e.sent().valid?[4,this.rolesApi.create({model:this.model})]:[2];case 2:return e.sent(),this.serviceIndex.router.navigateToRoute("ServiceRoles"),[2]}}))}))},e=c([Object(a.g)(),l("design:paramtypes",[i.Service,r.f,o.ValidationControllerFactory,r.e])],e)}()}.call(this,n("B/eG").default)},"services/roles/new-role.html":function(e,t,n){e.exports='<template>\n  <require from="./new-role.scss"></require>\n  <form submit.trigger="createRight()" autocomplete="off">\n    <div style="max-width: 500px;">\n      <esp-input view-model.ref="keyInput" controlid="key" label="Key" value.bind="model.RoleKey & validate"></esp-input>\n      <esp-input controlid="name" label="Name" value.bind="model.Name & validate"></esp-input>\n      <esp-input controlid="name" label="Description" value.bind="model.Description"></esp-input>\n    </div>\n\n    <h3>Which rights should the role have?</h3>\n\n    <h1>\n      TODO: Let the user choose which service to get rights from.\n      The idea being to allow them to create a system of micro-services,\n      then define roles that can use those micro-services heterogenously.\n    </h1>\n\n    <section id="rights-for-role">\n      <esp-checkbox repeat.for="right of allRights" controlid.bind="right.Id" label.bind="right.Name" model.bind="right.Id"\n        checked.bind="model.Rights"></esp-checkbox>\n    </section>\n\n    <footer class="buttons">\n      <button class="primary">\n        <span>Create Role</span>\n      </button>\n    </footer>\n  </form>\n</template>\n'},"services/roles/new-role.scss":function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"section#rights-for-role{display:-webkit-box;display:flex;flex-wrap:wrap}esp-checkbox{margin-right:.5em}",""])},"services/roles/roles":function(e,t,n){"use strict";n.r(t),n.d(t,"Roles",(function(){return s}));var r=n("espalier-js"),i=n("aurelia-framework"),o=n("services/service-index"),a=n("BEPO"),c=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},l=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(e,t){this.dsFactory=t,this.serviceIndex=e}return e.prototype.attached=function(){this.rolesGrid.settings={columns:[{propertyName:"Id"},{propertyName:"Name"},{propertyName:"Description"}],dataSource:this.dsFactory.HttpSource(a.b+"/Roles?ServiceKey="+this.serviceIndex.serviceKey)}},e=c([Object(i.g)(),l("design:paramtypes",[o.Service,r.DataSourceFactory])],e)}()},"services/roles/roles.html":function(e,t){e.exports='<template>\n  <esp-grid view-model.ref="rolesGrid"></esp-grid>\n</template>\n'}}]);
//# sourceMappingURL=app~c714bc7b.597a2533e5a874d479f3.bundle.map